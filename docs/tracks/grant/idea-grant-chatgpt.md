# DeepVest Grants — децентрализованная система грантов для стартапов

## 1. Цель и ценностное предложение

DeepVest Grants позволяет стартапам получать **транши грантов** от фондов/DAO за подтверждённое выполнение майлстоунов.  
Ключевая идея — **двойка ИИ-агентов** (стартап ↔ фонд) + смарт-контракт-кошелёк фонда:

1. **Agent Startup** (LLM в DeepVest)
   - Анализирует актуальные данные проекта (снапшоты, метрики, GitHub-активность).
   - Формирует **Grant Proposal**: цели, список майлстоунов, бюджет, сроки, KPI.
   - Отправляет предложение Agent Fund'у.
2. **Agent Fund** (LLM, «представитель» DAO/фонда)
   - Оценивает предложение (скоринг проекта уже есть в DeepVest).
   - Может запросить уточнения или сразу «одобрить/отклонить».
   - При одобрении формирует ончейн-транзакцию в **GrantVault**.
3. **GrantVault (смарт-контракт)**
   - Держит средства фонда.
   - Сохраняет структуру { proposalId → { milestoneId → amount, status } }.
   - Разрешает **claim()** стартапу, когда для milestone получен on-chain сигнатуру о выполнении.
4. **Оракул активности**
   - Backend DeepVest подтверждает достижение майлстоуна (PR смёржился, тесты прошли, KPI достигнут).
   - Пушит событие в оракул ⇢ контракт обновляет статус.

## 2. Минимальный PoC (2 дня хакатона)

| Компонент                     | Технология                                               | Почему                                                          |
| ----------------------------- | -------------------------------------------------------- | --------------------------------------------------------------- |
| Смарт-контракт GrantVault     | Solidity + Hardhat, деплой в тестнет **Neon EVM**        | EVM, простота, спонсор "Neon EVM"                               |
| Оракулы и автоматизация       | **Chainlink Functions/Automation**                       | Cобственно спонсор Chainlink, легко триггерить из HTTPS webhook |
| Идентификация проектов/фондов | **Civic Pass**                                           | Быстрый KYC/attestation, спонсор Civic                          |
| LLM-агенты                    | OpenAI / Anthropic (Jules/Claude) через DeepVest backend | Уже используем LLM в проекте                                    |
| Хранение данных               | Supabase (уже в проекте)                                 | —                                                               |

### Поток PoC

1. Стартап в UI DeepVest нажимает «Request Grant».
2. Agent Startup генерирует предложение (prompt-template + данные проекта).
3. Agent Fund (запущен в backend) отвечает «Approved» → backend вызывает метод `createGrant(proposalHash, milestones[], amounts[])` в GrantVault.
4. Деньги токенов USDC (testnet) лежат в контракте.
5. Когда стартап закрывает майлстоун (мердж PR + все тесты ✅), backend вызывает Chainlink Function, которая отправляет `approveMilestone(id)` в контракт.
6. Стартап кликает **Claim**, выполняется `claim(id)` → деньги переводятся на адрес основателя.

### Ограничения PoC

- Один фонд = один кошелёк.
- Один тип токена (USDC testnet).
- Верификация майлстоунов — через CI статус GitHub + internal flag в Supabase.

## 3. Расширение до production

- Поддержка нескольких фондов/DAO (multisig, голосование Snapshot).
- Загрузка средств через мосты + расчёт комиссий.
- Многошаговые диспенсы (Stream / Superfluid).
- Приватные гранты с использованием **Oasis Sapphire** для скрытых KPI (спонсор Oasis).
- Маркетплейс заявок (мониторинг Issues, RFQ, Discord, Farcaster).  
  Агент самостоятельно парсит публичные данные, формирует пропосалы и лоббирует DAO.

## 4. Компоненты системы

1. **Backend DeepVest**
   - REST / Next API для создания/получения грантов.
   - Таблицы `grants`, `grant_milestones` (Supabase).
   - Jobs для мониторинга GitHub / KPI.
2. **Smart-Contracts**
   - GrantVault (Neon).
   - Library `GrantTypes.sol` (structs, events).
   - Chainlink Automation Upkeep.
3. **Frontend**
   - Страница Grants: список активных пропосалов, состояние майлстоунов, кнопка Claim.
4. **LLM Prompts**
   - `GRANT_PROPOSAL_GENERATOR`
   - `GRANT_EVALUATION_CRITERIA` (Agent Fund).

## 5. Почему выбранные спонсоры

- **Neon EVM** — даёт EVM в экосистеме Solana, простая разработка на Solidity, grant sandbox.
- **Chainlink** — необходимы оракулы и автоматизация, плюс они любят такие демонстрации.
- **Civic** — быстрая интеграция для KYC в web-проектах, можно показать compliance.
- (Опционально) **Oasis** — конфиденциальность данных KPI.

> Остальные спонсоры можно упомянуть на слайде «Roadmap»: Polkadot (Substrate парачейн для DAO), Flare (данные API → on-chain), iExec (оффчейн-compute).

## 6. Следующие шаги для PoC

1. Подготовить контракт `GrantVault.sol` с методами: `createGrant`, `approveMilestone`, `claim`.
2. Задеплоить в Neon devnet; пополнить кошелёк фонда тестовыми USDC.
3. Настроить Chainlink Function: HTTPS webhook → `approveMilestone`.
4. Реализовать Supabase таблицы + эндпоинты `/api/grants/*`.
5. Подключить Civic Pass widget в форму Claim.
6. Подготовить демо-UI + скрипт «счастливый путь» (Recording/Live).
7. Сделать презентацию с Roadmap до production.

---

## Вопросы для уточнения

1. **Приоритетные спонсоры.** У какого из перечисленных спонсоров для тебя must-have интеграция в PoC?
2. **Объём on-chain логики.** Достаточно ли единственного контракта GrantVault или нужно показать голосование/мультисиг DAO?
3. **Уровень автоматизации.** Принимаем ли мы упрощённое «авто-одобрение» пропосала Agent Fund'ом или требуется ручное подтверждение человека?
4. **Доступ к LLM.** Какие модели/API уже оплачены (OpenAI, Anthropic, Google Gemini)?
5. **Метрики майлстоунов.** Какие источники активности для верификации наиболее приоритетны (GitHub CI, Supabase KPI, Twitter farming и т.д.)?
